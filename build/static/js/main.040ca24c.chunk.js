(this["webpackJsonpweather-man"]=this["webpackJsonpweather-man"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),i=c.n(a),r=c(7),s=c.n(r),o=(c(13),c(5)),l="REMOVE_CITY",j=function(e,t){switch(t.type){case l:return e.filter((function(e){return e!==t.payload}));default:return e}},u={cities:[],dispatch:void 0},d=Object(a.createContext)(u),h=function(){var e=localStorage.getItem("cities");return e?JSON.parse(e):["adliswil","zurich","new york","moscow","bordeaux","riga"]},m=function(e){var t=Object(a.useReducer)(j,void 0,h),c=Object(o.a)(t,2),i=c[0],r=c[1];return Object(n.jsx)(d.Provider,{value:{cities:i,dispatch:r},children:e.children})},b=d,O={getWeather:function(e){return fetch("".concat("http://api.openweathermap.org/data/2.5/weather?appid=7e9fb89639a21a3dd453e08cb7379eec&units=metric","&q=").concat(e)).then((function(e){return e.json()})).then((function(e){return{location:{lattitude:(t=e).coord.lat,longitude:t.coord.lon,country:t.sys.country,city:t.name},weather:{name:t.weather[0].main,description:t.weather[0].description,icon:t.weather[0].icon,temperature:t.main.temp,feelsLike:t.main.feels_like,minTemperature:t.main.temp_min,maxTemperature:t.main.temp_max,pressure:t.main.pressure,humidity:t.main.humidity}};var t}))}},p=c(2),x=c(4),f=c(3),v=(c(14),function(e){var t=e.children,c=e.className,a=Object(x.a)(e,["children","className"]);return Object(n.jsx)("div",Object(p.a)(Object(p.a)({className:Object(f.a)("Card-root",c)},a),{},{children:t}))}),C=function(e){var t=e.children,c=e.className,a=Object(x.a)(e,["children","className"]);return Object(n.jsx)("div",Object(p.a)(Object(p.a)({className:Object(f.a)("CardContent-root",c)},a),{},{children:t}))},N=function(e){var t=e.className,c=e.children,a=e.action,i=Object(x.a)(e,["className","children","action"]);return Object(n.jsxs)("div",Object(p.a)(Object(p.a)({className:Object(f.a)("CardHeader-root",t)},i),{},{children:[Object(n.jsx)("div",{className:"CardHeader-title",children:c}),a]}))},g=function(){return Object(a.useContext)(b).dispatch},w=(c(15),function(e){var t=e.className,c=Object(x.a)(e,["className"]);return Object(n.jsx)("button",Object(p.a)(Object(p.a)({className:Object(f.a)("CloseButton-root",t)},c),{},{children:"\xd7"}))}),y=(c(16),function(e){var t=e.city,c=Object(a.useState)(null),i=Object(o.a)(c,2),r=i[0],s=i[1],j=g(),u=function(){O.getWeather(t).then((function(e){s(e)}))};return Object(a.useEffect)((function(){u();var e=setInterval((function(){u()}),6e4);return function(){clearInterval(e)}}),[t]),Object(n.jsxs)(v,{className:"CityForecast-root",children:[Object(n.jsxs)(N,{action:Object(n.jsx)(w,{onClick:function(){j(function(e){return{type:l,payload:e}}(t))}}),children:[Object(n.jsx)("h5",{children:r?"".concat(r.location.city,", ").concat(r.location.country):t}),r&&Object(n.jsx)("img",{className:"CityForecast-icon",src:"http://openweathermap.org/img/wn/".concat(null===r||void 0===r?void 0:r.weather.icon,"@2x.png"),alt:r.weather.description})]}),Object(n.jsx)(C,{className:"CityForecast-content",children:r?Object(n.jsx)("div",{className:"CityForecast-container",children:Object(n.jsxs)("div",{className:"CityForecast-grid",children:[Object(n.jsx)("p",{children:"Current:"}),Object(n.jsxs)("p",{children:[r.weather.temperature," \xb0 C"]}),Object(n.jsx)("p",{children:"Feels like:"}),Object(n.jsxs)("p",{children:[r.weather.feelsLike," \xb0 C"]}),Object(n.jsx)("p",{children:"Minimum:"}),Object(n.jsxs)("p",{children:[r.weather.minTemperature," \xb0 C"]}),Object(n.jsx)("p",{children:"Maximum:"}),Object(n.jsxs)("p",{children:[r.weather.maxTemperature," \xb0 C"]})]})}):Object(n.jsx)("h6",{children:"Loading..."})})]})}),k=(c(17),function(){var e=Object(a.useContext)(b).cities;return Object(n.jsx)("section",{className:"CityList",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"list",children:e.map((function(e){return Object(n.jsx)("div",{className:"item",children:Object(n.jsx)(y,{city:e})},e)}))})})})}),F=(c(18),c.p+"static/media/clouds.e2217daa.jpg"),T=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("img",{className:"background-image",alt:"background",src:F}),Object(n.jsx)(m,{children:Object(n.jsx)(k,{})})]})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,20)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(T,{})}),document.getElementById("root")),I()}],[[19,1,2]]]);
//# sourceMappingURL=main.040ca24c.chunk.js.map